<ion-header>

  <ion-navbar>
    <ion-title>
      Localização
    </ion-title>
    
    <ion-buttons start *ngIf="enderecoAdicional">
      <button ion-button (click)="dismiss()">
        <span ion-text color="primary" showWhen="ios">Cancel</span>
        <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <!--
  <ion-list *ngIf="!localizado">
    <ion-item>
      <ion-label floating>Digite e selecione o endereço</ion-label>
      <ion-input type="text" [(ngModel)]="endereco" (focus)="showAddressModal()" ></ion-input>
    </ion-item>
    <ion-item>
      <ion-label floating>Número</ion-label>
      <ion-input type="text" [(ngModel)]="numero" clearInput="true" ></ion-input>
    </ion-item>

    <ion-item>
      <ion-label floating>Ponto de referência</ion-label>
      <ion-textarea [(ngModel)]="referencia"></ion-textarea>
    </ion-item>
  </ion-list>
  <button ion-button block [disabled]="!fullAddress.descricao" (click)="salvarEndereco()" *ngIf="!localizado">Salvar Endereço</button>
  -->

  <ion-list *ngIf="buscarPeloCep && !localizado">
    <form [formGroup]="formCep" >
      <ion-item>
        <ion-label floating>Digite e selecione o cep</ion-label>
        <ion-input type="text" formControlName="cep" ></ion-input>
      </ion-item>
    </form>
  </ion-list>
  <button ion-button block (click)="buscarPeloCep()" [disabled]="formCep.invalid" *ngIf="!localizado">Buscar pelo CEP</button>

  <ion-list *ngIf="localizado">
    <form [formGroup]="formEndereco" >
      <ion-item>
        <ion-label floating>Endereço</ion-label>
        <ion-textarea formControlName="endereco" ></ion-textarea>
      </ion-item>
      
      <ion-item>
        <ion-label floating>Número e complemento</ion-label>
        <ion-input required type="text" formControlName="numero" ></ion-input>
      </ion-item>
      
      <ion-item>
        <ion-label floating>Nome do bairro</ion-label>
        <ion-input type="text" formControlName="bairro" ></ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>Ponto de referência</ion-label>
        <ion-textarea required formControlName="referencia" ></ion-textarea>
      </ion-item>
    </form>
  </ion-list>
  <button *ngIf="localizado" ion-button block [disabled]="formEndereco.invalid" (click)="onSubmitEndereco()" >Salvar</button>

</ion-content>
